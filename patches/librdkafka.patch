---
 examples/idempotent_producer.c         | 11 +++++++++--
 examples/transactions.c                |  8 ++++++--
 packaging/cmake/Modules/FindZSTD.cmake |  3 +--
 src-cpp/CMakeLists.txt                 |  1 +
 4 files changed, 17 insertions(+), 6 deletions(-)

diff --git a/examples/idempotent_producer.c b/examples/idempotent_producer.c
index bb34610c..a12e642f 100644
--- a/examples/idempotent_producer.c
+++ b/examples/idempotent_producer.c
@@ -43,10 +43,17 @@
 #define _BSD_SOURCE     /* vsnprintf() */
 #include <stdio.h>
 #include <signal.h>
-#include <unistd.h>
 #include <string.h>
 
+#include "tinycthread.h"
 
+/* Platform specific includes */
+#if defined(_TTHREAD_POSIX_)
+  #include <unistd.h>
+#elif defined(_TTHREAD_WIN32_)
+  #include <process.h>
+  #include "rdwin32.h"
+#endif
 /* Typical include path would be <librdkafka/rdkafka.h>, but this program
  * is builtin from within the librdkafka source tree and thus differs. */
 #include "rdkafka.h"
@@ -318,7 +325,7 @@ int main(int argc, char **argv) {
 
                 /* Short sleep to rate-limit this example.
                  * A real application should not do this. */
-                usleep(500 * 1000); /* 500ms */
+                rd_usleep(500 * 1000); /* 500ms */
         }
 
 
diff --git a/examples/transactions.c b/examples/transactions.c
index 705e504e..3ef832ff 100644
--- a/examples/transactions.c
+++ b/examples/transactions.c
@@ -43,13 +43,17 @@
 
 #include <stdio.h>
 #include <signal.h>
-#include <unistd.h>
 #include <string.h>
 #include <stdlib.h>
 #include <time.h>
 #include <ctype.h>
 
-
+/* Platform specific includes */
+#if defined(_TTHREAD_POSIX_)
+  #include <unistd.h>
+#elif defined(_TTHREAD_WIN32_)
+  #include <process.h>
+#endif
 /* Typical include path would be <librdkafka/rdkafka.h>, but this program
  * is builtin from within the librdkafka source tree and thus differs. */
 #include "rdkafka.h"
diff --git a/packaging/cmake/Modules/FindZSTD.cmake b/packaging/cmake/Modules/FindZSTD.cmake
index 7de137e0..f5621302 100644
--- a/packaging/cmake/Modules/FindZSTD.cmake
+++ b/packaging/cmake/Modules/FindZSTD.cmake
@@ -8,8 +8,7 @@
 
 find_path(ZSTD_INCLUDE_DIR NAMES zstd.h)
 
-find_library(ZSTD_LIBRARY_DEBUG NAMES zstdd zstd_staticd)
-find_library(ZSTD_LIBRARY_RELEASE NAMES zstd zstd_static)
+find_library(ZSTD_LIBRARY_RELEASE NAMES libzstd_a)
 
 include(SelectLibraryConfigurations)
 SELECT_LIBRARY_CONFIGURATIONS(ZSTD)
diff --git a/src-cpp/CMakeLists.txt b/src-cpp/CMakeLists.txt
index 2b496d9f..a5e594fe 100644
--- a/src-cpp/CMakeLists.txt
+++ b/src-cpp/CMakeLists.txt
@@ -54,6 +54,8 @@ if(NOT RDKAFKA_BUILD_STATIC)
     FILES ${GENERATED_DIR}/rdkafka++.pc
     DESTINATION "${CMAKE_INSTALL_LIBDIR}/pkgconfig"
   )
+  set_target_properties(rdkafka PROPERTIES OUTPUT_NAME librdkafka)
+  set_target_properties(rdkafka++ PROPERTIES OUTPUT_NAME librdkafka++)
 else()
   set(PKG_CONFIG_NAME "librdkafka++-static")
   set(PKG_CONFIG_DESCRIPTION "The Apache Kafka C/C++ library (static)")

